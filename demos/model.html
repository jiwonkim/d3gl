<!DOCTYPE html>
<html>
<head>
    <title>D3GL Apple</title>
    <link rel="stylesheet" href="../css/demo.css" />
</head>
<body>

<h1>Hello Apple!</h1>

<script type="text/javascript" src="../js/jquery-1.8.2.js"></script>
<script type="text/javascript" src="../js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="../js/d3.v2.js"></script>
<script type="text/javascript" src="../js/RequestAnimationFrame.js"></script>
<script type="text/javascript" src="../js/three.js"></script>
<script type="text/javascript" src="../js/d3gl.js"></script>
<!--TODO: add collada loader when minifying-->
<script type="text/javascript" src="../js/OBJLoader.js"></script>
<!-- All scripts above are included here:
<script type="text/javascript" src="../js/d3gl.min.js"></script> -->

<script type="text/javascript">
$(function(){
var meshes = [
    {mesh: "../models/apple/apple.js", texture: "../img/apple-poison-tex.jpg"},
    {mesh: "../models/apple/apple.js", texture: "../img/apple-yellow-tex.jpg"},
    {mesh: "../models/toyplane/toyplane.js", colors: [[1, 0, 0], [0, 1, 0]]},
    {mesh: "../models/toyplane/toyplane.js", colors: [[0.8, 0.8, 0], [0, 0.8, 0.8]]},
    {mesh: "../models/toyplane/toyplane.js", colors: [[0.8, 0.4, 0.8], [0.1, 0.1, 0.8]]},
];
var model = d3.gl.model()
    .width(400).height(400)
    .mesh(function(datum, index) { return datum.mesh; })
    .color(function(datum, index, materialIndex) {
        if (datum.colors && datum.colors[materialIndex]) {
          return datum.colors[materialIndex];
        } else {
          return null;
        }
    })
    .texture(function(datum, index, materialIndex) {
        if (datum.texture) {
            return datum.texture;
        } else {
            return null;
        }
    });

d3.select("body").selectAll("span")
    .data(meshes).enter().append("span")
    .call(model);
    
});

</script>
</body>
</html>
